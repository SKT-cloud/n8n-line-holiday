<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StudyBot • เพิ่มวันหยุด / ยกคลาส</title>
  <link rel="stylesheet" href="/css/style.css" />
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>

  <main class="wrap">
    <header class="topbar">
      <div>
        <h1>เพิ่มวันหยุด</h1>
        <p class="sub">บันทึกวันหยุดทั้งวัน หรือยกคลาส (เลือกวิชา) พร้อมแจ้งเตือนหลายเวลา</p>
      </div>
      <div class="pill" id="profilePill">กำลังเชื่อมต่อ…</div>
    </header>

    <section class="card">
      <div class="grid">
        <div class="field">
          <label for="title">หัวข้อ <span class="muted">(ไม่จำเป็น)</span></label>
          <input id="title" type="text" placeholder="เช่น ไปอบรม / ป่วย" maxlength="120" />
        </div>

        <div class="field">
          <label for="note">หมายเหตุ <span class="muted">(ไม่จำเป็น)</span></label>
          <textarea id="note" rows="3" placeholder="เช่น สถานที่ / เหตุผล / รายละเอียดเพิ่มเติม" maxlength="500"></textarea>
        </div>

        <div class="field">
          <label for="type">ประเภท</label>
          <select id="type">
            <option value="holiday">หยุดทั้งวัน</option>
            <option value="cancel">ยกคลาส (เลือกวิชา)</option>
          </select>
          <div class="hint" id="typeHint">ถ้าเลือก “ยกคลาส” จะต้องเลือกวิชาจากตารางด้านล่าง</div>
        </div>

        <div class="field">
          <label>ช่วงวันที่หยุด</label>
          <div class="row">
            <input id="startDate" type="date" />
            <span class="dash">–</span>
            <input id="endDate" type="date" />
          </div>
          <div class="hint">ถ้าหยุดวันเดียว ปล่อยช่อง “วันที่สุดสุด” ว่างได้ ✅</div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="sectionHeader">
        <h2>แจ้งเตือน</h2>
        <div class="sectionActions">
          <button class="btn ghost" id="addReminderBtn" type="button">＋ เพิ่มเวลาแจ้งเตือน</button>
          <button class="btn ghost danger" id="clearRemindersBtn" type="button">ล้างแจ้งเตือน</button>
        </div>
      </div>

      <div id="remindersWrap" class="reminders"></div>
      <div class="hint">ถ้าไม่เพิ่มเวลาแจ้งเตือน = ไม่แจ้งเตือน</div>

      <div class="divider"></div>

      <div class="sectionHeader" id="subjectsHeader">
        <h2>ตารางวิชา</h2>
        <div class="hint" id="subjectsStatus">กำลังโหลดรายวิชา…</div>
      </div>

      <div id="subjectsWrap" class="subjects"></div>

      <div class="actions">
        <button class="btn soft" id="resetBtn" type="button">ล้างฟอร์ม</button>
        <button class="btn primary" id="saveBtn" type="button">บันทึก</button>
      </div>

      <div class="toast" id="toast" role="status" aria-live="polite"></div>
    </section>

    <footer class="foot">StudyBot • LIFF</footer>
  </main>

  <script type="module" src="/js/main.js"></script>
</body>
</html>
